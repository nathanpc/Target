{"name":"Target","body":"## Examples\r\n\r\nIf you look at the `tests` folder you'll have all the debug codes I made to test\r\nthe features of the server. Anyhow, here is how you create a simple server:\r\n\r\n```\r\n#import(\"dart:io\");\r\n#import(\"Target.dart\");\r\n\r\n\r\nvoid main() {\r\n  var Target = new Target();\r\n\r\n  Target.redirections = {\r\n    \"none\": \"\"\r\n  };\r\n  \r\n  File script = new File(new Options().script);\r\n  script.directory((Directory d) {\r\n    Target.createServer(d.path + \"/public\", 8800, (req, res) {\r\n      // Just do your job Target...\r\n      Target.respond(null);\r\n    });\r\n  });\r\n}\r\n```\r\n\r\nIf you want to create a more advanced server where you want to handle requests and respond to them dynamically you just need to use the callback method in the `createServer` function with a `respond()`, like this:\r\n\r\n```\r\n// Same as the simple server, but...\r\n\r\n// Don't just redirect, do what I want you to do!\r\nTarget.createServer(d.path + \"/public\", 8800, (req, res) {\r\n  print(\"${req.method}: ${req.path}\");\r\n  \r\n  if (req.path == \"/response_test\") {\r\n    // Respond with a HTML file.\r\n    File hfile = new File(\"${Target.basePath}/test/resp.html\");\r\n    hfile.exists((found) {\r\n      if (found) {\r\n        hfile.readAsText(Encoding.UTF_8, (String text) {\r\n          Target.respond(text);\r\n        });\r\n      } else {\r\n        // If the file wasn't found return a 404.\r\n        print(\"404\");\r\n        Target.respond(\"error\", HttpStatus.NOT_FOUND);\r\n      }\r\n    });\r\n  } else if (req.path == \"/hello\") {\r\n    // Respond with your own generated HTML.\r\n    Target.respond(\"<h1>Hello, World!</h1>\");\r\n  } else {\r\n    // Just make a normal redirect.\r\n    Target.respond(null);\r\n  }\r\n});\r\n\r\n// Close the rest of the calls.\r\n```\r\n\r\nI recommend you to check out the [**Wiki**][1] for more information, help and learn more about page redirections and other cool things.\r\n\r\n## Changelog\r\n\r\n**v0.2a**\r\n\r\n  * Added a way of setting cookies with the `setCookie()` method\r\n  * `serverCallback()` deprecated\r\n  * Added a callback method to the `createServer()` to be used as in the examples\r\n\r\n**v0.1a**\r\n\r\n  * Added a callback method to the server instance `Target.serverCallback()` so you can dynamically parse requests and respond to them\r\n  * Added the `respond()` method to the dynamic responses\r\n\r\n**v0.02a**\r\n\r\n  * Added support for page redirections\r\n\r\n**v0.01a**\r\n\r\n  * First working code\r\n  * Just a static server\r\n  * Redirects `{path}/` to `{path}/index.html`\r\n\r\n\r\n[1]: https://github.com/nathanpc/Target/wiki","tagline":"Dart's easy, simple and fast web server","google":"UA-30904257-1","note":"Don't delete this file! It's used internally to help with page regeneration."}